
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>David van Geest</title>
  <meta name="author" content="David van Geest">

  
  <meta name="description" content="I&#8217;m constantly forgetting how to enable profiling and turn off query caching in MySQL. So for my own benefit, and possibly yours, here&#8217;s &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://davidvg.com/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="David van Geest" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">David van Geest</a></h1>
  
    <h2>Software, Life, and Stuff I Couldn't Find on the Internet</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:davidvg.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/et-cetera">Et Cetera</a></li>
  <li><a href="/about-this-site">About this Site</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/10/12/disabling-the-query-cache-and-profiling-mysql/">Disabling the query cache and profiling MySQL</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-12T00:00:00-04:00" pubdate data-updated="true">Oct 12<span>th</span>, 2011</time>
        
         | <a href="/2011/10/12/disabling-the-query-cache-and-profiling-mysql/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m constantly forgetting how to enable profiling and turn off query caching in MySQL.  So for my own benefit, and possibly yours, here&#8217;s the goods.</p>

<p>Turn off the query cache for your particular connection:<br/>
<code>SET SESSION query_cache_type = OFF;</code></p>

<p>Enable profiling for your connection:<br/>
<code>SET profiling=1;</code></p>

<p>Run the query:<br/>
<code>SELECT * FROM widgets WHERE plant_id = 5 ORDER BY widget_id DESC LIMIT 1;</code></p>

<p>Show the profile:<br/>
<code>SHOW profile;</code></p>

<p>You&#8217;ll get something like this:<br/>
<code>
+----------------------+----------+<br/>
| Status               | Duration |<br/>
+----------------------+----------+<br/>
| starting             | 0.000087 |<br/>
| checking permissions | 0.000013 |<br/>
| Opening tables       | 0.000106 |<br/>
| System lock          | 0.000099 |<br/>
| init                 | 0.000036 |<br/>
| optimizing           | 0.000019 |<br/>
| statistics           | 0.000311 |<br/>
| preparing            | 0.000027 |<br/>
| executing            | 0.000006 |<br/>
| Sorting result       | 0.000006 |<br/>
| Sending data         | 0.001665 |<br/>
| end                  | 0.000011 |<br/>
| query end            | 0.000008 |<br/>
| closing tables       | 0.000023 |<br/>
| freeing items        | 0.000034 |<br/>
| logging slow query   | 0.000005 |<br/>
| cleaning up          | 0.000006 |<br/>
+----------------------+----------+<br/>
17 rows in set (0.00 sec)<br/>
</code></p>

<p>Remember that the time in the right column actually corresponds to to the operation in the row ABOVE.  So in this case, the operation that took 0.001665 seconds was the &#8220;Sorting result&#8221; operation, not the &#8220;Sending data&#8221; operation.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/04/04/using-a-virtualbox-host-only-interface-when-bridged-interface-is-unavailable/">Using a VirtualBox host-only interface when bridged interface is unavailable</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-04T00:00:00-04:00" pubdate data-updated="true">Apr 4<span>th</span>, 2011</time>
        
         | <a href="/2011/04/04/using-a-virtualbox-host-only-interface-when-bridged-interface-is-unavailable/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>On my current project, I use an Ubuntu Server virtual machine to run MySQL and Rails.  It makes it easy to keep my development environments for conflicting projects separate&#8230; my previous project used a different version of both MySQL and Rails.  For Ruby and Rails, this problem can be solved with <a href="http://rvm.beginrescueend.com/">RVM</a>, but that&#8217;s another story.</p>

<p>My Ubuntu VM has two network adapters, one bridged to eth0 on my host, and the second a host-only interface.  The idea here is that I still have network access to the VM when my wired connection on the host is down.  Imagine my suprise, however, when DHCP was failing on the host-only interface while the bridged network was down.  In theory, the host-only networking should work fine even if the host&#8217;s bridged interface is physically disconnected (I&#8217;m using wireless instead of my normal wired connection, so there&#8217;s nothing connected to my host&#8217;s Ethernet port).</p>

<p>After mucking about for a bit, I discovered the secret to host-only harmony.  I had to turn off the VM, then in VirtualBox go to Settings -> Network, select the tab for my bridged adapter, click Advanced, and un-check the &#8220;Cable Connected&#8221; box.  When I booted the VM again, the host-only adapter was able to DHCP an address on the host-only network, and I could be productive again :-).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/03/20/installing-the-starcraft-2-demo-on-linux-mint/">Installing the StarCraft 2 Demo on Linux Mint</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-20T00:00:00-04:00" pubdate data-updated="true">Mar 20<span>th</span>, 2011</time>
        
         | <a href="/2011/03/20/installing-the-starcraft-2-demo-on-linux-mint/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>
	I&#8217;m an infrequent gamer, but occasionally I get bored enough to fire something up, generally an RTS of some variety. Today was a rainy Sunday, so I figured I would give StarCraft II a try. I don&#8217;t own the game, and didn&#8217;t intend to buy it without trying it out on Linux, so I installed the demo using <a href="http://www.winehq.org/">Wine</a>.</p>
<p>
	There&#8217;s a few walk-throughs on the web that I followed to get this going, but none of them specifically addressed the demo. If you&#8217;re trying to install the full version of the game, I suspect that <a href="http://www.playonlinux.com/">PlayOnLinux</a> would be easier (see the referenced walkthroughs for instructions).  But since PlayOnLinux doesn&#8217;t support the demo, here&#8217;s what I did.  These instructions are for Linux Mint, but they should work fine on Ubuntu without modification, or other distros with a few small changes.</p>
<ul>
	
<li><p>To get the audio working correctly, I had to install wine1.3, compiled with PulseAudio support (instead of wine1.2 which is in the Mint 9 repositories).  I found a PPA for that here: <a href="https://launchpad.net/~c-korn/+archive/ppa">https://launchpad.net/~c-korn/+archive/ppa</a>.  If you want, you can just download and install the .deb instead of adding the whole PPA.</p></li>

<li><p>Get the latest winetricks script:</p>

<typo:code lang="bash">
wget http://winezeug.googlecode.com/svn/trunk/winetricks
</typo:code><br/>
</li>
<li><p>Make it executable, and install some extras not included with Wine.  I&#8217;m not sure if all of these are needed, but these installed without error for me:</p>
<typo:code lang="bash">
chmod +x winetricks
./winetricks droid fontfix fontsmooth-rgb vcrun2005 allfonts d3dx9 win7
</typo:code><br/>
</li>

<li><p>Some walk-throughs suggest installing gecko for wine, I did that the following way:</p>
<typo:code lang="bash">
wget  http://winezeug.googlecode.com/svn/trunk/install-gecko.sh
chmod +x install-gecko.sh 
sudo ./install-gecko.sh
</typo:code><br/>
</li>

<li><p>Configure Wine to use PulseAudio, if necessary:</p>
<typo:code lang="bash">
winecfg
</typo:code><br/>

<p>Then go to the &#8216;Audio&#8217; tab and select the PulseAudio Driver in the Sound Drivers tree</p></li>

<li><p>Configure Wine to disable mmdevapi.  In the Libraries tab, under Existing Overrides, you may have mmdevapi listed.  Select it, click Edit, and choose Disabled.  If it&#8217;s not in the list, some people recommend adding it by finding mmdevapi in the above drop-down and clicking Add, then disabling it as before.</p></li>
<li>
		<p>Download the demo downloader from here:Â <a href="https://us.battle.net/account/sc2-demo.html">https://us.battle.net/account/sc2-demo.html</a></p></li>
	
<li>
<p>Run the demo downloader using wine:</p>

<typo:code lang="bash">
chmod +x SC2-WingsOfLibertyDemo-enUS-downloader.exe 
wine SC2-WingsOfLibertyDemo-enUS-downloader.exe
</typo:code><br/>


<p>The download is pretty big.  Go play outside :-).</p>
</li>
<li><p>When the downloader is complete, it will give you the option to install the demo.  Go ahead and do that.</p></li>
<li><p>The demo installer adds a Desktop icon, and an icon in your Wine menu.  At this point, you are hopefully good to go.  Performance under Wine is not as good as on Windows, so you may have to tweak your graphics settings.</p></li>
</ul>
<p>The demo was enjoyable, if a little tame.  I might consider buying the game in the unlikely event that I suddenly find myself with a lot of free time :-).  For reference, I used the following two sites to put these steps together:</p>
<ul>
<li>
<a href="http://jeffhoogland.blogspot.com/2010/07/howto-starcraft-2-on-linux-with-wine.html">http://jeffhoogland.blogspot.com/2010/07/howto-starcraft-2-on-linux-with-wine.html</a></li>
<li><a href="http://www.retrohive.com/2010/08/20/play-starcraft-ii-linux/">http://www.retrohive.com/2010/08/20/play-starcraft-ii-linux/</a></li>
</ul>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/12/07/converting-a-git-repo-to-svn/">Converting a Git repo to SVN</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/28/hacking-session-maintenance-with-authlogic-and-factory-girl/">Hacking session maintenance with Authlogic and Factory Girl</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/18/excluding-all-attributes-in-options-for-to_json/">Excluding all attributes in options for to_json</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/12/disabling-the-query-cache-and-profiling-mysql/">Disabling the query cache and profiling MySQL</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/04/using-a-virtualbox-host-only-interface-when-bridged-interface-is-unavailable/">Using a VirtualBox host-only interface when bridged interface is unavailable</a>
      </li>
    
  </ul>
  <div class="archive-link"><a href="/blog/archives">Archive</a></div>
</section>
<section>
  <div class="centered">
    <a href="http://www.linkedin.com/in/dvangeest" class="no-underline no-wrap"> 
      <img alt="LinkedIn Profile" src="http://www.linkedin.com/img/webpromo/btn_myprofile_160x33.gif" />
    </a>
  </div>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - David van Geest -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'davidvg';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<div id="sitemeter" class="hidden">
  <script type="text/javascript" src="http://s50.sitemeter.com/js/counter.js?site=s50davidvg">
  </script>
  <noscript>
    <p>
      <a href="http://s50.sitemeter.com/stats.asp?site=s50davidvg">
        <img src="http://s50.sitemeter.com/meter.asp?site=s50davidvg" alt="Site Meter" />
      </a>
    </p>
  </noscript>
</div>        


</body>
</html>
